<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="twitter:card" content="summary_large_image" /><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Git - How to find all unpushed commits for all projects in a directory? | Guillaume’s blog</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="Git - How to find all unpushed commits for all projects in a directory?" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="clustergit, RabbitVCS - installation and usage" />
<meta property="og:description" content="clustergit, RabbitVCS - installation and usage" />
<link rel="canonical" href="https://castorfou.github.io/blog/blog/clustergit.html" />
<meta property="og:url" content="https://castorfou.github.io/blog/blog/clustergit.html" />
<meta property="og:site_name" content="Guillaume’s blog" />
<meta property="og:image" content="https://castorfou.github.io/blog/images/git.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-03-09T00:00:00-06:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="https://castorfou.github.io/blog/images/git.png" />
<meta property="twitter:title" content="Git - How to find all unpushed commits for all projects in a directory?" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2021-03-09T00:00:00-06:00","datePublished":"2021-03-09T00:00:00-06:00","description":"clustergit, RabbitVCS - installation and usage","headline":"Git - How to find all unpushed commits for all projects in a directory?","image":"https://castorfou.github.io/blog/images/git.png","mainEntityOfPage":{"@type":"WebPage","@id":"https://castorfou.github.io/blog/blog/clustergit.html"},"url":"https://castorfou.github.io/blog/blog/clustergit.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/blog/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="https://castorfou.github.io/blog/feed.xml" title="Guillaume's blog" /><link rel="shortcut icon" type="image/x-icon" href="/blog/images/favicon.ico"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Primer/15.2.0/primer.css" integrity="sha512-xTz2ys4coGAOz8vuV1NcQBkgVmKhsSEtjbqyMJbBHRplFuvKIUo6xhLHpAyPt9mfR6twHJgn9OgVLuqOvjeBhg==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/katex.min.css" integrity="sha512-h7nl+xz8wgDlNM4NqKEM4F1NkIRS17M9+uJwIGwuo8vGqIl4BhuCKdxjWEINm+xyrUjNCnK5dCrhM0sj+wTIXw==" crossorigin="anonymous" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/katex.min.js" integrity="sha512-/CMIhXiDA3m2c9kzRyd97MTb3MC6OVnx4TElQ7fkkoRghwDf6gi41gaT1PwF270W6+J60uTmwgeRpNpJdRV6sg==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/contrib/auto-render.min.js" integrity="sha512-Do7uJAaHZm5OLrIv/yN4w0iG1dbu01kzdMNnFfu/mAqgUk6Nniv2JYHcwH+cNwjqgLcqcuBBk+JRvprLVI8azg==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha512-0doc9hKxR3PYwso42RD1p5ySZpzzuDiOwMrdCEh2WdJZCjcmFKc/wEnL+z8fBQrnHoiNWbo+3fiGkOYXBdQp4A==" crossorigin="anonymous"></script>
    <script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement( document.body, {
        delimiters: [
            {left: "$$", right: "$$", display: true},
            {left: "[%", right: "%]", display: true},
            {left: "$", right: "$", display: false}
        ]}
        );
    });
    </script>


<script>
function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title") && (el.className != "emoji")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
}
window.onload = wrap_img;
</script>

<script>
    document.addEventListener("DOMContentLoaded", function(){
    // add link icon to anchor tags
    var elem = document.querySelectorAll(".anchor-link")
    elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
    });
</script>
</head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/blog/">Guillaume&#39;s blog</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/blog/about/">About Me</a><a class="page-link" href="/blog/search/">Search</a><a class="page-link" href="/blog/categories/">Tags</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Git - How to find all *unpushed* commits for all projects in a directory?</h1><p class="page-description">clustergit, RabbitVCS - installation and usage</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2021-03-09T00:00:00-06:00" itemprop="datePublished">
        Mar 9, 2021
      </time>
       • <span class="read-time" title="Estimated read time">
    
    
      3 min read
    
</span></p>

    
      <p class="category-tags"><i class="fas fa-tags category-tags-icon"></i></i> 
      
        <a class="category-tags-link" href="/blog/categories/#git">git</a>
        
      
      </p>
    

    </header>

  <div class="post-content e-content" itemprop="articleBody">
    <ul id="toc" class="section-nav">
<li class="toc-entry toc-h2"><a href="#installation-clustergit">Installation clustergit</a></li>
<li class="toc-entry toc-h2"><a href="#usage-clustergit">Usage clustergit</a></li>
<li class="toc-entry toc-h2"><a href="#rename-branches-from-main-to-master">Rename branches from main to master</a></li>
<li class="toc-entry toc-h2"><a href="#rename-branches-from-master-to-main-i-know">Rename branches from master to main (I know)</a></li>
<li class="toc-entry toc-h2"><a href="#rabbitvcs">RabbitVCS</a></li>
<li class="toc-entry toc-h2"><a href="#git-nautilus-icons">git-nautilus-icons</a></li>
<li class="toc-entry toc-h2"><a href="#activate-git-with-globalprotect">Activate git with GlobalProtect</a></li>
<li class="toc-entry toc-h2"><a href="#add-a-ca-certificate-in-ubuntu">Add a ca-certificate in ubuntu</a></li>
</ul><p>Very basic question to help keep my repo clean.</p>

<h2 id="installation-clustergit">
<a class="anchor" href="#installation-clustergit" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installation clustergit</h2>

<p><a href="https://github.com/mnagel/clustergit">clustergit</a> seems a good candidate</p>

<p><img src="https://raw.githubusercontent.com/mnagel/clustergit/master/doc/clustergit.png" alt=""></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> ~/Applications
git clone git@github.com:mnagel/clustergit.git
<span class="c"># add export PATH="$PATH:$HOME/Applications/clustergit" to ~.bashrc</span>
<span class="nb">source</span> ~.bashrc
</code></pre></div></div>

<p>or using <code class="language-plaintext highlighter-rouge">.local/bin</code></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> ~/Applications/
git clone git@github.com:castorfou/clustergit.git
<span class="nb">cd</span> ~
<span class="nb">mkdir</span> <span class="nt">-p</span> .local/bin
<span class="nb">cd</span> .local/bin/
<span class="nb">ln</span> <span class="nt">-s</span> ~/Applications/clustergit/clustergit <span class="nb">.</span>
<span class="nb">source</span> .profile
</code></pre></div></div>

<h2 id="usage-clustergit">
<a class="anchor" href="#usage-clustergit" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage clustergit</h2>

<p><strong>clustergit status</strong></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>clustergit 
Scanning sub directories of <span class="nb">.</span>
./Deep-Reinforcement-Learning-Hands-On  : Changesn <span class="nb">.</span>    <span class="o">(</span>1/17<span class="o">)</span>
./Deep_reinforcement_learning_Course    : Changes
./ReinforcementLearning_references      : On branch main, Untracked files
./blog                                  : Untracked files
./d059                                  : On branch main, Changes
./data-scientist-skills                 : Clean
./deeplearning_specialization           : Clean
./fastai                                : Changes
./fastai_experiments                    : Changes
./fastbook                              : Changes
./gan_specialization                    : Clean
./hello_nbdev                           : Clean
./introduction-reinforcement-learning-david-silver: On branch main, Untracked files
./mit_600.2x Introduction to Computational Thinking and Data Science: Clean
./mit_6S191_Intro_to_deep_learning      : On branch main, No Changes
./pytorch_tutorial                      : On branch main, Changes
./squeezebox                            : On branch main, No Changes
Done

</code></pre></div></div>

<p><strong>clustergit status (detailed)</strong></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>clustergit <span class="nt">-v</span>
<span class="o">[</span>...]
<span class="nt">----------------</span> ./squeezebox <span class="nt">-----------------</span>
running  <span class="nv">LC_ALL</span><span class="o">=</span>C git status
On branch main
Your branch is up to <span class="nb">date </span>with <span class="s1">'origin/main'</span><span class="nb">.</span>

nothing to commit, working tree clean

./squeezebox                            : On branch main, No Changes
<span class="nt">----------------</span> ./squeezebox <span class="nt">-----------------</span>
Done
</code></pre></div></div>

<p><strong>clustergit status (less detailed: hide Clean)</strong></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>clustergit <span class="nt">-H</span>
Scanning sub directories of <span class="nb">.</span>
./d059                                  : On branch main, Changes
./fastai                                : Changes
./fastai_experiments                    : Changes
./fastbook                              : Changes
./introduction-reinforcement-learning-david-silver: On branch main, Untracked files
./mit_6S191_Intro_to_deep_learning      : On branch main, No Changes
./pytorch_tutorial                      : On branch main, Changes
./squeezebox                            : On branch main, No Changes
Done
</code></pre></div></div>

<p><strong>Clean</strong> vs <strong>On branch main, No Changes</strong></p>

<p>seems related to branch name. If branch is named master, then clean is displayed.</p>

<p>(Mar/25 21) I have just changed clustergit to have <code class="language-plaintext highlighter-rouge">main</code> as default branch name instead of <code class="language-plaintext highlighter-rouge">master</code> (github having set <code class="language-plaintext highlighter-rouge">main</code> as the new standard)</p>

<p>Rename everything from master to main</p>

<p><strong>Git pull, push</strong></p>

<p>I am not sure I will use it. But allows to recursively launch pull commands to update repos (if no local changes)</p>

<h2 id="rename-branches-from-main-to-master">
<a class="anchor" href="#rename-branches-from-main-to-master" aria-hidden="true"><span class="octicon octicon-link"></span></a>Rename branches from <em>main</em> to <em>master</em>
</h2>

<p><a href="https://docs.github.com/en/github/administering-a-repository/renaming-a-branch">Renaming a branch</a> from github website.</p>

<p>Rename branch main to master from github website</p>

<p><img src="https://docs.github.com/assets/images/help/branches/branches-link.png" alt=""></p>

<p>Update local clones</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git branch <span class="nt">-m</span> main master
git fetch origin
git branch <span class="nt">-u</span> origin/master master
</code></pre></div></div>

<h2 id="rename-branches-from-master-to-main-i-know">
<a class="anchor" href="#rename-branches-from-master-to-main-i-know" aria-hidden="true"><span class="octicon octicon-link"></span></a>Rename branches from master to <em>main</em> (I know)</h2>

<p><a href="https://docs.github.com/en/github/administering-a-repository/renaming-a-branch">Renaming a branch</a> from github website.</p>

<p>Rename branch master to main from github website</p>

<p><img src="https://docs.github.com/assets/images/help/branches/branches-link.png" alt=""></p>

<p>Update local clones</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git branch <span class="nt">-m</span> master main
git fetch origin
git branch <span class="nt">-u</span> origin/main main
</code></pre></div></div>

<h2 id="rabbitvcs">
<a class="anchor" href="#rabbitvcs" aria-hidden="true"><span class="octicon octicon-link"></span></a>RabbitVCS</h2>

<p>From this <a href="https://www.addictivetips.com/ubuntu-linux-tips/integrate-git-with-gnome-file-manager-on-linux/">page</a></p>

<p><em>Installation</em></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt <span class="nb">install </span>rabbitvcs-nautilus
</code></pre></div></div>

<p><em>Result</em></p>

<p><img src="https://cloud.addictivetips.com/wp-content/uploads/2018/10/rvcs-update-e1540364222288.png" alt=""></p>

<p>These overlay icons are not automatically updated (have to hit Ctrl-F5, it is a cache issue?) Which is not a surprise: number of actions are fired based on file modifications, and here status (commited, pushed) is not at all linked to file modifications. The system doesn’t know that overlay icon should be changed because file was not touched.</p>

<h2 id="git-nautilus-icons">
<a class="anchor" href="#git-nautilus-icons" aria-hidden="true"><span class="octicon octicon-link"></span></a>git-nautilus-icons</h2>

<p>Just to check if it works better than RabbitVCS regarding overlay icon cache issue.</p>

<p>No I didn’t manage to make it work. Back to RabbitVCS.</p>

<h2 id="activate-git-with-globalprotect">
<a class="anchor" href="#activate-git-with-globalprotect" aria-hidden="true"><span class="octicon octicon-link"></span></a>Activate git with GlobalProtect</h2>

<p><strong>move from ssh to https, keeping password</strong></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git remote <span class="nt">-v</span>
origin  git@github.com:castorfou/guillaume_blog.git <span class="o">(</span>fetch<span class="o">)</span>
origin  git@github.com:castorfou/guillaume_blog.git <span class="o">(</span>push<span class="o">)</span>
</code></pre></div></div>

<p>move to https://github.com/castorfou/guillaume_blog.git</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git remote set-url origin https://github.com/castorfou/guillaume_blog.git
</code></pre></div></div>

<ul>
  <li>Make Git store the username and password and it will never ask for them.</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git config <span class="nt">--global</span> credential.helper store
</code></pre></div></div>

<ul>
  <li>Save the username and password for a session (cache it);</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git config <span class="nt">--global</span> credential.helper cache
</code></pre></div></div>

<p>and to activate trace</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ GIT_TRACE_PACKET</span><span class="o">=</span>1 <span class="nv">GIT_TRACE</span><span class="o">=</span>1 <span class="nv">GIT_CURL_VERBOSE</span><span class="o">=</span>1 git fetch
</code></pre></div></div>

<p>we can enrich certificates with Global Protect CA</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>~/anaconda3/ssl<span class="nv">$ </span><span class="nb">sudo cp </span>certPG.pem /etc/ssl/certs/
</code></pre></div></div>

<h2 id="add-a-ca-certificate-in-ubuntu">
<a class="anchor" href="#add-a-ca-certificate-in-ubuntu" aria-hidden="true"><span class="octicon octicon-link"></span></a>Add a ca-certificate in ubuntu</h2>

<ol>
  <li>Go to <code class="language-plaintext highlighter-rouge">/usr/local/share/ca-certificates/</code>
</li>
  <li>Create a new folder, i.e. <code class="language-plaintext highlighter-rouge">sudo mkdir school</code>
</li>
  <li>Copy the . crt file into the school folder.</li>
  <li>Make sure the permissions are OK (755 for the folder, 644 for the file)</li>
  <li>Run <code class="language-plaintext highlighter-rouge">sudo update-ca-certificates</code>
</li>
</ol>

<p>We should see effects in <code class="language-plaintext highlighter-rouge">/etc/ssl/certs</code></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/etc/ssl/certs<span class="nv">$ </span>ll <span class="nt">-tr</span>
<span class="o">[</span>..]
lrwxrwxrwx 1 root root     86 mars  24 10:02  cert_M_X5C_sase-net-sslfwd-trust-ca.pem -&gt; /usr/local/share/ca-certificates/globalprotect/cert_M_X5C_sase-net-sslfwd-trust-ca.crt
lrwxrwxrwx 1 root root     39 mars  24 10:02  0dc7de9e.0 -&gt; cert_M_X5C_sase-net-sslfwd-trust-ca.pem
</code></pre></div></div>


  </div><!-- from https://github.com/utterance/utterances -->
<script src="https://utteranc.es/client.js"
        repo="castorfou/guillaume_blog"
        issue-term="title"
        label="blogpost-comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script><a class="u-url" href="/blog/blog/clustergit.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/blog/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/blog/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/blog/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
      </div>
      <div class="footer-col">
        <p>Journey for a datascientist</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"><li><a rel="me" href="https://github.com/castorfou" target="_blank" title="castorfou"><svg class="svg-icon grey"><use xlink:href="/blog/assets/minima-social-icons.svg#github"></use></svg></a></li><li><a rel="me" href="https://twitter.com/GuillaumeRamel1" target="_blank" title="GuillaumeRamel1"><svg class="svg-icon grey"><use xlink:href="/blog/assets/minima-social-icons.svg#twitter"></use></svg></a></li></ul>
</div>

  </div>

</footer>
</body>

</html>
